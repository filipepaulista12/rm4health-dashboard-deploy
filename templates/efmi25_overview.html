<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EFMI25 Conference Overview - RM4Health</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        .conference-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            margin-bottom: 30px;
        }
        .metric-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .metric-card:hover {
            transform: translateY(-5px);
        }
        .metric-value {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .metric-label {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 15px;
        }
        .explanation-box {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 15px;
            margin-top: 15px;
            border-radius: 0 10px 10px 0;
        }
        .star-rating {
            color: #ffc107;
            font-size: 1.5rem;
        }
        .innovation-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin: 5px;
        }
        .innovation-active {
            background: #28a745;
            color: white;
        }
        .innovation-inactive {
            background: #e9ecef;
            color: #6c757d;
        }
        .fhir-badge {
            font-size: 1.2rem;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
        }
        .readiness-bar {
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            background: #e9ecef;
        }
        .readiness-fill {
            height: 100%;
            transition: width 0.8s ease;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-dark" style="background: linear-gradient(135deg, #2c5aa0, #48c9b0);">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-heartbeat me-2"></i>RM4Health
            </a>
            <div>
                <a href="/" class="btn btn-light btn-sm me-2">
                    <i class="fas fa-home me-1"></i>Dashboard
                </a>
                <a href="/rm4health-domains-assessment" class="btn btn-outline-light btn-sm">
                    <i class="fas fa-chart-line me-1"></i>Domínios
                </a>
            </div>
        </div>
    </nav>

    <!-- Conference Header -->
    <div class="conference-header">
        <div class="container">
            <h1><i class="fas fa-university me-3"></i>EFMI25 Conference Overview</h1>
            <p class="lead">European Federation for Medical Informatics - Presentation Readiness</p>
            <p class="mb-0">RM4Health: Remote Monitoring for Elderly Health - Scientific Validation Dashboard</p>
        </div>
    </div>

    <div class="container">
        <!-- Executive Summary -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="metric-card text-center">
                    <div class="metric-value text-primary">{{ total_participants }}</div>
                    <div class="metric-label">Total Participants</div>
                    <div class="explanation-box">
                        <strong>O que significa:</strong> Número de pessoas idosas que participaram no estudo. 
                        Uma amostra de {{ total_participants }} participantes é considerada robusta para estudos piloto em saúde digital.
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="metric-card text-center">
                    <div class="metric-value text-success">{{ total_records }}</div>
                    <div class="metric-label">Data Points Collected</div>
                    <div class="explanation-box">
                        <strong>O que significa:</strong> Total de registos de dados coletados. 
                        Cada participante pode ter múltiplos registos ao longo do tempo, criando {{ total_records }} pontos de dados únicos.
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="metric-card text-center">
                    <div class="metric-value text-info">{{ total_instruments }}</div>
                    <div class="metric-label">Clinical Instruments</div>
                    <div class="explanation-box">
                        <strong>O que significa:</strong> Número de questionários e escalas clínicas validadas usadas. 
                        Incluem instrumentos como EQ-5D (qualidade de vida), Barthel (funcionalidade), Pittsburgh (sono).
                    </div>
                </div>
            </div>
        </div>

        <!-- Research Readiness -->
        <div class="row mb-4">
            <div class="col-md-6">
                <div class="metric-card">
                    <h4><i class="fas fa-graduation-cap me-2 text-primary"></i>Research Readiness Score</h4>
                    <div class="d-flex align-items-center mb-3">
                        <div class="metric-value text-primary me-3">{{ research_readiness }}%</div>
                        <div class="readiness-bar flex-grow-1">
                            <div class="readiness-fill bg-primary" style="width: {{ research_readiness }}%"></div>
                        </div>
                    </div>
                    <div class="explanation-box">
                        <strong>Como é calculado:</strong>
                        <br>• Analisamos {{ total_records }} registos de dados
                        <br>• Verificamos quantos têm mais de 80% dos campos preenchidos
                        <br>• {{ research_readiness }}% dos registos atingem este critério de qualidade
                        <br><strong>Para leigos:</strong> Este número mostra que o projeto está {{ "muito bem" if research_readiness >= 80 else "bem" if research_readiness >= 60 else "razoavelmente" }} preparado para publicação científica internacional.
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="metric-card">
                    <h4><i class="fas fa-star me-2 text-warning"></i>Publication Impact Potential</h4>
                    <div class="d-flex align-items-center mb-3">
                        <div class="star-rating me-3">
                            {% for i in range(5) %}
                                {% if i < publication_impact %}
                                    <i class="fas fa-star"></i>
                                {% else %}
                                    <i class="far fa-star"></i>
                                {% endif %}
                            {% endfor %}
                        </div>
                        <span class="metric-value text-warning">{{ publication_impact }}/5</span>
                    </div>
                    <div class="explanation-box">
                        <strong>Como é calculado:</strong>
                        <br>• Tamanho da amostra ({{ total_participants }} participantes): {{ "⭐⭐⭐⭐⭐" if total_participants >= 25 else "⭐⭐⭐⭐" if total_participants >= 20 else "⭐⭐⭐" if total_participants >= 15 else "⭐⭐" if total_participants >= 10 else "⭐" }}
                        <br>• Diversidade de instrumentos ({{ total_instruments }}): {{ "⭐⭐⭐⭐⭐" if total_instruments >= 10 else "⭐⭐⭐⭐" if total_instruments >= 8 else "⭐⭐⭐" if total_instruments >= 6 else "⭐⭐" if total_instruments >= 4 else "⭐" }}
                        <br>• Qualidade metodológica: {{ "⭐⭐⭐⭐⭐" if data_quality_score >= 90 else "⭐⭐⭐⭐" if data_quality_score >= 80 else "⭐⭐⭐" if data_quality_score >= 70 else "⭐⭐" if data_quality_score >= 60 else "⭐" }}
                        <br><strong>Para leigos:</strong> Este projeto tem potencial {{ "muito alto" if publication_impact >= 4 else "alto" if publication_impact >= 3 else "moderado" if publication_impact >= 2 else "baixo" }} para ser aceite em revistas científicas internacionais.
                    </div>
                </div>
            </div>
        </div>

        <!-- FHIR Compliance -->
        <div class="row mb-4">
            <div class="col-md-8">
                <div class="metric-card">
                    <h4><i class="fas fa-network-wired me-2 text-info"></i>FHIR Compliance Level</h4>
                    <div class="d-flex align-items-center mb-3">
                        <span class="fhir-badge badge bg-{{ fhir_compliance_color }} me-3">{{ fhir_compliance_level }}</span>
                        <span class="metric-value text-{{ fhir_compliance_color }}">{{ fhir_compliance_score }}%</span>
                    </div>
                    <div class="explanation-box">
                        <strong>O que é FHIR:</strong> Fast Healthcare Interoperability Resources - padrão internacional para trocar informações de saúde entre sistemas.
                        <br><strong>Como é calculado:</strong>
                        <br>• Mapeamento de pacientes: {{ "✓" if fhir_compliance_score >= 50 else "✗" }} Identificação correta dos participantes
                        <br>• Observações clínicas: {{ "✓" if fhir_compliance_score >= 60 else "✗" }} Dados de exames e avaliações
                        <br>• Condições de saúde: {{ "✓" if fhir_compliance_score >= 70 else "✗" }} Diagnósticos e problemas de saúde
                        <br><strong>Para leigos:</strong> {{ fhir_compliance_level }} significa que o sistema {{ "está muito bem" if fhir_compliance_level == "Advanced" else "está razoavelmente" if fhir_compliance_level == "Intermediate" else "precisa melhorar para estar" }} preparado para integrar com outros sistemas de saúde europeus.
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="metric-card text-center">
                    <h5><i class="fas fa-lightbulb me-2 text-warning"></i>Innovation Index</h5>
                    <div class="metric-value text-warning">{{ innovation_index }}%</div>
                    <div class="mt-3">
                        <div class="innovation-badge {{ 'innovation-active' if has_mobile_data else 'innovation-inactive' }}">
                            <i class="fas fa-mobile-alt me-1"></i>Mobile Health
                        </div>
                        <div class="innovation-badge {{ 'innovation-active' if has_iot_data else 'innovation-inactive' }}">
                            <i class="fas fa-wifi me-1"></i>IoT Sensors
                        </div>
                        <div class="innovation-badge {{ 'innovation-active' if has_ai_features else 'innovation-inactive' }}">
                            <i class="fas fa-brain me-1"></i>AI/ML
                        </div>
                        <div class="innovation-badge {{ 'innovation-active' if has_realtime_monitoring else 'innovation-inactive' }}">
                            <i class="fas fa-heartbeat me-1"></i>Real-time
                        </div>
                    </div>
                    <div class="explanation-box text-start">
                        <strong>Para leigos:</strong> Mede quantas tecnologias inovadoras o projeto usa. {{ innovation_index }}% indica um nível {{ "muito alto" if innovation_index >= 75 else "alto" if innovation_index >= 50 else "moderado" if innovation_index >= 25 else "básico" }} de inovação tecnológica.
                    </div>
                </div>
            </div>
        </div>

        <!-- Specialized Metrics -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="metric-card text-center">
                    <h5><i class="fas fa-user-friends me-2 text-success"></i>Elderly-Care Focus</h5>
                    <div class="metric-value text-success">{{ elderly_focus_score }}%</div>
                    <div class="explanation-box text-start">
                        <strong>Como é calculado:</strong>
                        <br>• Instrumentos específicos para idosos (Barthel, EQ-5D, etc.)
                        <br>• Avaliações de funcionalidade e independência
                        <br><strong>Para leigos:</strong> {{ elderly_focus_score }}% dos dados são específicos para cuidados geriátricos, mostrando que o projeto está {{ "muito bem" if elderly_focus_score >= 80 else "bem" if elderly_focus_score >= 60 else "razoavelmente" }} focado no público-alvo idoso.
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="metric-card text-center">
                    <h5><i class="fas fa-chart-line me-2 text-info"></i>Data Quality Score</h5>
                    <div class="metric-value text-info">{{ data_quality_score }}%</div>
                    <div class="explanation-box text-start">
                        <strong>Componentes:</strong>
                        <br>• Dados em falta: {{ missing_data_rate }}%
                        <br>• Consistência: {{ data_consistency_score }}%
                        <br>• Temporal: {{ temporal_consistency }}%
                        <br><strong>Para leigos:</strong> Qualidade {{ "excelente" if data_quality_score >= 90 else "muito boa" if data_quality_score >= 80 else "boa" if data_quality_score >= 70 else "razoável" }} dos dados coletados.
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="metric-card text-center">
                    <h5><i class="fas fa-presentation me-2 text-primary"></i>Conference Readiness</h5>
                    <div class="metric-value text-primary">{{ conference_readiness }}%</div>
                    <div class="explanation-box text-start">
                        <strong>Critérios de Prontidão:</strong>
                        <br>• Amostra mínima: {{ "✓" if total_participants >= 20 else "✗" }}
                        <br>• Dados longitudinais: {{ "✓" if temporal_consistency > 0 else "✗" }}
                        <br>• Medidas de resultado: {{ "✓" if total_instruments > 0 else "✗" }}
                        <br>• Demografia completa: {{ "✓" if data_quality_score > 70 else "✗" }}
                        <br><strong>Para leigos:</strong> O projeto está {{ "totalmente" if conference_readiness >= 80 else "bem" if conference_readiness >= 60 else "parcialmente" }} pronto para apresentação científica internacional.
                    </div>
                </div>
            </div>
        </div>

        <!-- Scientific Foundation -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="metric-card">
                    <h4><i class="fas fa-university me-2 text-dark"></i>Scientific Foundation & Methodology</h4>
                    <div class="row">
                        <div class="col-md-6">
                            <h6><i class="fas fa-book me-2 text-primary"></i>Theoretical Framework</h6>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-check-circle text-success me-2"></i>Implementation Science (Proctor et al., 2011)</li>
                                <li><i class="fas fa-check-circle text-success me-2"></i>Data Quality Framework (Kahn et al., 2016)</li>
                                <li><i class="fas fa-check-circle text-success me-2"></i>FHIR Interoperability (HL7 Standards)</li>
                                <li><i class="fas fa-check-circle text-success me-2"></i>Elderly Care Methodology (Lewis et al., 2023)</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6><i class="fas fa-cogs me-2 text-warning"></i>Technical Implementation</h6>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-check-circle text-success me-2"></i>REDCap Electronic Data Capture</li>
                                <li><i class="fas fa-check-circle text-success me-2"></i>Validated Clinical Instruments</li>
                                <li><i class="fas fa-check-circle text-success me-2"></i>Real-time Data Processing</li>
                                <li><i class="fas fa-check-circle text-success me-2"></i>GDPR Compliant Data Management</li>
                            </ul>
                        </div>
                    </div>
                    <div class="explanation-box">
                        <strong>Para leigos:</strong> O projeto RM4Health baseia-se em metodologias científicas robustas e reconhecidas internacionalmente. 
                        Usa padrões técnicos aprovados pela comunidade científica europeia e mundial, garantindo que os resultados sejam válidos e comparáveis com outros estudos similares.
                        A conformidade com regulamentos europeus (GDPR) e padrões internacionais (FHIR) demonstra maturidade técnica e ética do projeto.
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Items for EFMI25 -->
        <div class="row">
            <div class="col-12">
                <div class="metric-card">
                    <h4><i class="fas fa-tasks me-2 text-danger"></i>EFMI25 Presentation Recommendations</h4>
                    <div class="row">
                        <div class="col-md-6">
                            <h6 class="text-success"><i class="fas fa-thumbs-up me-2"></i>Strengths to Highlight</h6>
                            <ul>
                                <li>Robust sample size ({{ total_participants }} participants)</li>
                                <li>Comprehensive clinical assessment ({{ total_instruments }} instruments)</li>
                                <li>High data quality ({{ data_quality_score }}%)</li>
                                <li>FHIR compliance ({{ fhir_compliance_level }})</li>
                                <li>Elderly-focused methodology ({{ elderly_focus_score }}%)</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6 class="text-warning"><i class="fas fa-exclamation-triangle me-2"></i>Areas for Improvement</h6>
                            <ul>
                                {% if missing_data_rate > 10 %}
                                <li>Reduce missing data rate (currently {{ missing_data_rate }}%)</li>
                                {% endif %}
                                {% if innovation_index < 50 %}
                                <li>Enhance technological innovation features</li>
                                {% endif %}
                                {% if fhir_compliance_level == "Basic" %}
                                <li>Improve FHIR compliance for better interoperability</li>
                                {% endif %}
                                {% if elderly_focus_score < 70 %}
                                <li>Increase elderly-specific assessments</li>
                                {% endif %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>